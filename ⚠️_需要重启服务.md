# âš ï¸ é‡è¦ï¼šéœ€è¦é‡å¯æœåŠ¡æ‰èƒ½ç”Ÿæ•ˆ

## ğŸ”„ å·²ä¿®å¤çš„ä»£ç éœ€è¦é‡å¯

æ‚¨é‡åˆ°çš„é”™è¯¯ï¼š
```json
{
    "message": "Error: Invalid file 'input_reference': unsupported mimetype ('application/octet-stream')..."
}
```

**å·²ä¿®å¤**ï¼šä»£ç å·²æ›´æ–°ï¼Œä¼šä» URL ä¸­æå– `.jpg` æ‰©å±•åã€‚

**ä½†æ˜¯**ï¼šâœ… **æ‚¨éœ€è¦é‡å¯æœåŠ¡æ‰èƒ½ç”Ÿæ•ˆï¼**

---

## ğŸ”„ é‡å¯æ­¥éª¤

### 1. åœæ­¢å½“å‰æœåŠ¡

åœ¨è¿è¡Œ `one-api.exe` çš„ç»ˆç«¯çª—å£ä¸­ï¼š
- æŒ‰ `Ctrl + C` åœæ­¢æœåŠ¡

### 2. é‡æ–°ç¼–è¯‘ï¼ˆå¯é€‰ï¼Œæ¨èï¼‰

```powershell
cd C:\Users\brows\Desktop\ezlinkai
go build -o one-api.exe .
```

### 3. é‡å¯æœåŠ¡

```powershell
.\one-api.exe
```

---

## ğŸ§ª é‡å¯åé‡æ–°æµ‹è¯•

```bash
curl -X POST http://localhost:3000/v1/video/generations \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -d '{
    "model": "sora-2",
    "prompt": "A calico cat playing a piano on stage",
    "input_reference": "https://svip-8.rcouyi.com/file/upload/2025/09/17/1968331882076573696.jpg"
  }'
```

---

## âœ… ä¿®å¤çš„é€»è¾‘

å¯¹äºæ‚¨çš„ URLï¼š`https://svip-8.rcouyi.com/.../1968331882076573696.jpg`

**æ–°ä»£ç ä¼š**ï¼š
1. ä¸‹è½½æ–‡ä»¶
2. æ£€æŸ¥ Content-Typeï¼ˆå¯èƒ½æ˜¯ application/octet-streamï¼‰
3. ä» URL æ£€æµ‹åˆ° `.jpg` æ‰©å±•å âœ…
4. ä½¿ç”¨ `filename = "input_reference.jpg"` âœ…
5. OpenAI å¯ä»¥æ­£ç¡®è¯†åˆ«ä¸º JPEG æ ¼å¼ âœ…

---

## ğŸ“‹ æ£€æµ‹ä¼˜å…ˆçº§

1. **Content-Type** (HTTP Header)
2. **URL æ‰©å±•å** (å¦‚ .jpg, .png)
3. **æ–‡ä»¶å¤´æ£€æµ‹** (äºŒè¿›åˆ¶æ•°æ®)
4. **é»˜è®¤** (.jpg)

æ‚¨çš„ URL ä¼šåœ¨ç¬¬ 2 æ­¥è¢«è¯†åˆ«ä¸º `.jpg`ï¼

---

## ğŸ¯ é‡å¯å‰åå¯¹æ¯”

### é‡å¯å‰ï¼ˆæ—§ä»£ç ï¼‰âŒ
```
URL: .../1968331882076573696.jpg
â†’ å¯èƒ½æå–ä¸åˆ°æ‰©å±•å
â†’ filename = "input_reference" (æ— æ‰©å±•å)
â†’ OpenAI è¯†åˆ«ä¸º application/octet-stream
â†’ æ‹’ç»è¯·æ±‚
```

### é‡å¯åï¼ˆæ–°ä»£ç ï¼‰âœ…
```
URL: .../1968331882076573696.jpg
â†’ æ£€æµ‹åˆ° .jpg åç¼€
â†’ filename = "input_reference.jpg"
â†’ OpenAI è¯†åˆ«ä¸º image/jpeg
â†’ æ¥å—è¯·æ±‚ âœ…
```

---

## ğŸ’¡ å¦‚æœé‡å¯åè¿˜æœ‰é—®é¢˜

è¯·æä¾›æœåŠ¡å™¨æ—¥å¿—ï¼ŒæŸ¥çœ‹è¿™ä¸€è¡Œï¼š
```
Input reference URL: ..., Content-Type: ..., detected filename: ...
```

è¿™ä¼šå‘Šè¯‰æˆ‘ä»¬æ£€æµ‹åˆ°çš„æ–‡ä»¶åæ˜¯ä»€ä¹ˆã€‚

---

**è¯·ç«‹å³é‡å¯æœåŠ¡ï¼Œç„¶åé‡æ–°æµ‹è¯•ï¼**

